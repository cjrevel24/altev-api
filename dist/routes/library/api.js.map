{"version":3,"sources":["../../../src/routes/library/api.js"],"names":["router","require","Router","libraryBookLists","borrowedBooks","get","req","res","status","json","errors","msg","specifiedBook","find","bookId","id","parseInt","params","categoryBooks","filter","bookCategory","book_category","category","map","getBooks","post","body","findBook","book","bookReserved","push","message","success_icon","description","module","exports"],"mappings":"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","sourcesContent":["const router = require(\"express\").Router();\r\nconst { libraryBookLists, borrowedBooks } = require(\"../../db\");\r\n\r\n//GET LIBRARY BOOK LISTS\r\nrouter.get(\"/list\", (req, res) => {\r\n  if (!libraryBookLists) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Access denied!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  return res.json(libraryBookLists);\r\n});\r\n\r\n//VIEW LIBRARY SPECIFIC BOOK\r\nrouter.get(\"/view-book/:id\", (req, res) => {\r\n  const specifiedBook = libraryBookLists.find(\r\n    (bookId) => bookId.id === parseInt(req.params.id)\r\n  );\r\n\r\n  if (!specifiedBook) {\r\n    return res.status(404).json(\"The book with the given ID was not found!.\");\r\n  }\r\n\r\n  return res.json(specifiedBook);\r\n});\r\n\r\n//GET BOOKs BY CATEGORY\r\nrouter.get(\"/search-book/:category\", (req, res) => {\r\n  const categoryBooks = libraryBookLists\r\n    .filter(\r\n      (bookCategory) => bookCategory.book_category === req.params.category\r\n    )\r\n    .map((getBooks) => {\r\n      return getBooks;\r\n    });\r\n\r\n  if (!categoryBooks) {\r\n    return res\r\n      .status(404)\r\n      .json(\"The book with the given category was not found!.\");\r\n  }\r\n\r\n  return res.json(categoryBooks);\r\n});\r\n\r\n//SUBMIT BOOROW BOOK\r\nrouter.post(\"/borrow-book\", (req, res) => {\r\n  const { bookId } = req.body;\r\n\r\n  if (bookId === \"\") {\r\n    return res.status(404).json(\"Please send the payload (bookId)!\");\r\n  } else {\r\n    const findBook = libraryBookLists\r\n      .filter((book) => {\r\n        return book.id === parseInt(bookId);\r\n      })\r\n      .map((bookReserved) => {\r\n        return bookReserved;\r\n      });\r\n    borrowedBooks.push(findBook);\r\n    return res.json(\"book is reserved!\");\r\n  }\r\n});\r\n\r\n//SUMMARY OF BOOKING\r\nrouter.get(\"/summary\", (req, res) => {\r\n  res.json({\r\n    message: \"Success vote is submitted\",\r\n    success_icon:\r\n      \"https://image.similarpng.com/very-thumbnail/2021/06/Green-check-mark-icon-on-transparent-background-PNG.png\",\r\n    description: \"The staff is confirming your voted candidates!\",\r\n  });\r\n});\r\n\r\n//GET BORROWED BOOKS\r\nrouter.get(\"/my-borrowed-books\", (req,res) => {\r\n  res.json(borrowedBooks)\r\n})\r\n\r\nmodule.exports = router;\r\n"],"file":"api.js"}