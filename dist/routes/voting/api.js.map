{"version":3,"sources":["../../../src/routes/voting/api.js"],"names":["router","require","Router","presidents","vicePresidents","senators","mySelectedVotes","checkAuth","get","req","res","status","json","errors","msg","post","body","president_name","vice_president_name","push","message","success_icon","description","module","exports"],"mappings":"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","sourcesContent":["const router = require(\"express\").Router();\r\nconst {\r\n  presidents,\r\n  vicePresidents,\r\n  senators,\r\n  mySelectedVotes,\r\n} = require(\"../../db\");\r\nconst checkAuth = require(\"../../middleware/checkAuth\");\r\n\r\n//GET PRESIDENTS LIST\r\nrouter.get(\"/president-list\", checkAuth, (req, res) => {\r\n  if (!presidents) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Access denied!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  return res.json(presidents);\r\n});\r\n\r\n//GET VICE PRESIDENTS LIST\r\nrouter.get(\"/vice-president-list\", checkAuth, (req, res) => {\r\n  if (!presidents) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Access denied!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  return res.json(vicePresidents);\r\n});\r\n\r\n//GET SENATORS LIST\r\nrouter.get(\"/senator-list\", checkAuth, (req, res) => {\r\n  if (!presidents) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Access denied!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  return res.json(senators);\r\n});\r\n\r\n// SEND USER VOTE\r\nrouter.post(\"/myvote\", checkAuth, (req, res) => {\r\n  const { president_name, vice_president_name, senators } = req.body;\r\n\r\n  if (!president_name || !vice_president_name || !senators) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Please send accurate payload\",\r\n        },\r\n      ],\r\n    });\r\n  } else {\r\n    mySelectedVotes.push({\r\n      president_name: president_name,\r\n      vice_president_name: vice_president_name,\r\n      senators: senators,\r\n    });\r\n\r\n    return res.json(\"submitted successfully!\");\r\n  }\r\n});\r\n\r\nrouter.get(\"/summary\", checkAuth, (req, res) => {\r\n  res.json({\r\n    message: \"Success vote is submitted\",\r\n    success_icon:\r\n      \"https://image.similarpng.com/very-thumbnail/2021/06/Green-check-mark-icon-on-transparent-background-PNG.png\",\r\n    description:\r\n      \"The staff is confirming your voted candidates!\",\r\n  });\r\n});\r\n\r\n// GET USER VOTE\r\nrouter.get(\"/history\", (req, res) => {\r\n  res.json(mySelectedVotes);\r\n});\r\n\r\nmodule.exports = router;\r\n"],"file":"api.js"}