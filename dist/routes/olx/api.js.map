{"version":3,"sources":["../../../src/routes/olx/api.js"],"names":["router","require","Router","olxLists","checkAuth","get","req","res","status","json","errors","msg","category","params","categoryName","filter","cat","item_category","map","items","module","exports"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAf;;AACA,eAAqBD,OAAO,CAAC,UAAD,CAA5B;AAAA,IAAQE,QAAR,YAAQA,QAAR;;AACA,IAAMC,SAAS,GAAGH,OAAO,CAAC,4BAAD,CAAzB,C,CAEA;;;AACAD,MAAM,CAACK,GAAP,CAAW,OAAX,EAAoBD,SAApB,EAA+B,UAACE,GAAD,EAAMC,GAAN,EAAc;AAC3C,MAAI,CAACJ,QAAL,EAAe;AACb,WAAOI,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,MAAAA,MAAM,EAAE,CACN;AACEC,QAAAA,GAAG,EAAE;AADP,OADM;AADkB,KAArB,CAAP;AAOD;;AAED,SAAOJ,GAAG,CAACE,IAAJ,CAASN,QAAT,CAAP;AACD,CAZD;AAcAH,MAAM,CAACK,GAAP,CAAW,qBAAX,EAAkCD,SAAlC,EAA6C,UAACE,GAAD,EAAMC,GAAN,EAAc;AACzD,MAAQK,QAAR,GAAqBN,GAAG,CAACO,MAAzB,CAAQD,QAAR;;AAEA,MAAI,CAACA,QAAL,EAAe;AACb,WAAOL,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,MAAAA,MAAM,EAAE,CACN;AACEC,QAAAA,GAAG,EAAE;AADP,OADM;AADkB,KAArB,CAAP;AAOD;;AAED,MAAMG,YAAY,GAAGX,QAAQ,CAC1BY,MADkB,CACX,UAACC,GAAD,EAAS;AACf,WAAOA,GAAG,CAACC,aAAJ,KAAsBL,QAA7B;AACD,GAHkB,EAIlBM,GAJkB,CAId,UAACC,KAAD,EAAW;AACd,WAAOA,KAAP;AACD,GANkB,CAArB;AAQA,SAAOZ,GAAG,CAACE,IAAJ,CAASK,YAAT,CAAP;AACD,CAtBD;AAwBAM,MAAM,CAACC,OAAP,GAAiBrB,MAAjB","sourcesContent":["const router = require(\"express\").Router();\r\nconst { olxLists } = require(\"../../db\");\r\nconst checkAuth = require(\"../../middleware/checkAuth\");\r\n\r\n//GET OLX CATEGORY LIST\r\nrouter.get(\"/list\", checkAuth, (req, res) => {\r\n  if (!olxLists) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Access denied!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  return res.json(olxLists);\r\n});\r\n\r\nrouter.get(\"/category/:category\", checkAuth, (req, res) => {\r\n  const { category } = req.params;\r\n\r\n  if (!category) {\r\n    return res.status(404).json({\r\n      errors: [\r\n        {\r\n          msg: \"Must submit a category payload!\",\r\n        },\r\n      ],\r\n    });\r\n  }\r\n\r\n  const categoryName = olxLists\r\n    .filter((cat) => {\r\n      return cat.item_category === category;\r\n    })\r\n    .map((items) => {\r\n      return items;\r\n    });\r\n\r\n  return res.json(categoryName);\r\n});\r\n\r\nmodule.exports = router;\r\n"],"file":"api.js"}